<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/top_bar.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/weather.css') }}">

    

    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/navbar.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/styles.css') }}">

    <script type="text/javascript" src="{{ url_for('static', filename = 'script/navbar.js') }}" defer></script>


</head>
<body class="bg-image">
  <div class="top_bar">

    <nav class="navbar">
        <div class="nav-title"> WEATHER </div>
        <div class="toggle-button">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
        <div class="navbar-links">
          <ul>
            <!-- {% for game in all_games %}
            <li>
                <a class="games_links" href="/game/{{game.name}}/{{game.id}}">{{game.name}} {{game.id}}</a>
            </li>
            {% endfor %} -->
          <li><a class="links" href="/user/edit/{{this_user.id}}">Edit Profile</a></li>
          <li><a class="links" href="/logout">Logout</a></li>
        </ul>
        </div>
    </nav>
    <div class="wx_search_bar">
        <form action="/user_search_local_weather" method="POST">
            <div class="city_state_search">
                <label for="city_state">Local Weather: </label>
                <input type="text" name = "city_state" placeholder="City State">
            </div>
            <input class="wx-submit-btn"  type="submit" value = "Submit">
        </form>
    </div>

  </div>


  <div class = "main">
    {% if messages %}
      {% for message in messages %}
        <h3 class="message">{{message}}</h3>
      {% endfor %}
    {% endif %}
    <div class = "current_wx_box">

      <div class="loc_icon">

        <div class="city_state_icon_box">
          <h1>{{ current_wx.city_state }}</h1>
          <div class="">
            {% if current_wx.is_daytime %}
            <h5 class="text-center text-danger">Day</h5>
            {% else %}
            <h5 class="text-center text-danger">Night</h5>
            {% endif %}
            <img src={{current_wx.icon}} alt="Weather Icon">
          </div>
        </div>

        <div class="info">
          <div class="info_items">
            <div class="datetime_box">
              <h5>{{ current_wx.dt[0] }}</h5>
              <h5>{{ current_wx.dt[1] }}</h5>
              <h5>{{ current_wx.dt[2] }}</h5>
            </div>


            <div class="lat_lon_box">
              <h5><span>Lat: </span> {{ current_wx.lat }} </h5>
              <h5><span>Lon: </span> {{ current_wx.lon }} </h5>
            </div>
          </div>

        </div>
      </div>


 '     <div class="current_conditions_tbl">
        <h3 class="conditions_title">Current Conditions</h3>
        <hr>

        <div class="table_row">
          <h4>Temperature:</h4>
          <p>{{ current_wx.temp }}F</p>
        </div>
        <div class="table_row">
          <h4>Humidity:</h4>
          <p>{{ current_wx.humidity }}%</p>
        </div>
        <div class="table_row">
          <h4>Dewpoint:</h4>
          <p>{{ current_wx.dew_point }}F</p>
        </div>
        <div class="table_row">
          <h4>Wind Speed:</h4>
          <p>{{ current_wx.wind_speed }}mph</p>
        </div>
        <div class="table_row">
          <h4>Visibility:</h4>
          <p>{{ current_wx.visibility }}mi</p>
        </div>
        <div class="table_row">
          <h4>Barometer:</h4>
          <p>{{ current_wx.pressure }}mb</p>
        </div>
        <div class="table_row">
          <h4>UVI:</h4>
          <p>{{ current_wx.uvi }}</p>
        </div>
      </div>
    </div>

    {% if forecast_wx != [] %}
    <div class="forecast">

      <div class="forecast_card_box">

        {% for day in forecast_wx %}
          <div class="forecast_card">
            <div class="forecast_card_body">
              <img src="{{ day.icon }}" alt="Hot Sun Picture">
              <h5>{{ day.dt }}</h5>
              <hr>
              <ul>
                <div class="data_item">
                  <h6>Temp:</h6>
                  <p>Hi {{ day.temp_max }}°F / Lo {{ day.temp_min }}°F</p>
                </div>

                <div class="data_item">
                 <h6>Real Feel: </h6>
                  <p>Hi {{ day.feels_like_eve }}°F / Lo {{ day.feels_like_morn }}°F</p>
                </div>

                <div class="data_item">
                  <h6>Pressure: </h6>
                  <p>{{ day.pressure }}hPa</p>
                </div>

                <div class="data_item">
                  <h6>Humidity: </h6>
                  <p>{{ day.humidity }}%</p>
                </div>

                <div class="data_item">
                  <h6>Dew Point: </h6>
                  <p>{{ day.dew_point }}°F</p>
                </div>

                <div class="data_item">
                  <h6>Wind Speed: </h6>
                  <p>{{ day.wind_speed }}mph</p>
                </div>

                <div class="data_item">
                  <h6>Wind Direction: </h6>
                  <p>{{ day.wind_spind }}°</p>
                </div>

                <div class="data_item">
                  <h6>Weather: </h6>
                  <p>{{ day.weather_description }}</p>
                </div>

                <div class="data_item">
                  <h6>Clouds: </h6>
                  <p>{{ day.clouds }}%</p>
                </div>

                <div class="data_item">
                  <h6>Precipitation: </h6>
                  <p>{{ day.pop }}%</p>
                </div>

                <div class="data_item">
                  <h6>UV Index: </h6>
                  <p>{{ day.uvi }}</p>
                </div>
              </ul>

            </div>
          </div>
        {% endfor %}

      </div>

    </div>
    {% endif %}

    <h2 class="title">~ 3 Day Graph Forecast ~</h2>

    <div class="graph_box">
      <div class="graphs">
        <img src="/static/pics/3_day_temperature_graph.png" alt="Temperature Graph"></img>
        <img src="/static/pics/3_day_humidity_graph.png" alt="Humidity Graph"></img>
        <img src="/static/pics/3_day_precipitation_graph.png" alt="Precipitation Graph"></img>
      </div>
    </div>


    <h2 class="title">~ 2 Day History ~</h2>
    <div class="history_box">

      <div class="history_conditions_tbl">
        <h3 class="conditions_title">{{ history_day2.prev_day_date }} </h3>
        <hr>
        <div class="table_row">
            <h4>Weather: </h4>
            <p>{{ history_day2.conditions }}</p>
        </div>

        <div class="table_row">
          <h4>Temperature F: </h4>
          <p>{{ history_day2.temp_min }} min / {{ history_day2.temp_max }} max</p>
        </div>

        <div class="table_row">
          <h4>Wind (mph): </h4>
          <p>{{ history_day2.wind_min }} min / {{ history_day2.wind_max }} max</p>
        </div>

        <div class="table_row">
          <h4>Wind Gust (mph): </h4>
          <p>{{ history_day2.wind_max_gust }}</p>
        </div>

        <div class="table_row">
          <h4>Pressure (inHg): </h4>
          <p>{{ history_day2.pressure_min }} min / {{ history_day2.pressure_max }} max</p>
        </div>

        <div class="table_row">
          <h4>Precipitation (in): </h4>
          <p>{{ history_day2.precipitation }}</p>

        </div>
      </div>


      <div class="history_conditions_tbl">
        <h3 class="conditions_title">{{ history_day1.prev_day_date }} </h3>
        <hr>
        <div class="table_row">
            <h4>Weather: </h4>
            <p>{{ history_day1.conditions }}</p>
        </div>

        <div class="table_row">
          <h4>Temperature F: </h4>
          <p>{{ history_day1.temp_min }} min / {{ history_day1.temp_max }} max</p>
        </div>

        <div class="table_row">
          <h4>Wind (mph): </h4>
          <p>{{ history_day1.wind_min }} min / {{ history_day1.wind_max }} max</p>
        </div>

        <div class="table_row">
          <h4>Wind Gust (mph): </h4>
          <p>{{ history_day1.wind_max_gust }}</p>
        </div>

        <div class="table_row">
          <h4>Pressure (inHg): </h4>
          <p>{{ history_day1.pressure_min }} min / {{ history_day1.pressure_max }} max</p>
        </div>

        <div class="table_row">
          <h4>Precipitation (in): </h4>
          <p>{{ history_day1.precipitation }}</p>
        </div>
      </div>

    </div>

  </div>
</body>
</html>







